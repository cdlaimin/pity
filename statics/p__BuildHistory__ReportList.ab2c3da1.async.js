"use strict";(self.webpackChunkpity=self.webpackChunkpity||[]).push([[6482],{63100:function(w,D,t){var i=t(67294),O=t(61607);D.Z=(0,O.a1)("send",!0,function(f){return i.createElement("svg",{width:f.size,height:f.size,viewBox:"0 0 48 48",fill:"none"},i.createElement("path",{d:"M43 5L29.7 43L22.1 25.9L5 18.3L43 5Z",stroke:f.colors[0],strokeWidth:f.strokeWidth,strokeLinejoin:f.strokeLinejoin}),i.createElement("path",{d:"M43.0001 5L22.1001 25.9",stroke:f.colors[0],strokeWidth:f.strokeWidth,strokeLinecap:f.strokeLinecap,strokeLinejoin:f.strokeLinejoin}))})},99612:function(w,D,t){t.d(D,{e5:function(){return $},mi:function(){return F},dh:function(){return P},XN:function(){return B}});var i=t(63100),O=t(97857),f=t.n(O),W=t(37594),c=t(85893),E=function(h){var S=h.icon,b=h.text,I=h.font,L=I===void 0?13:I,K=h.style,N=h.onClick,H=h.back,Y=H===void 0?!0:H;return Y?(0,c.jsxs)("span",{onClick:N,style:f()({},K),children:[(0,c.jsx)(W.B,{type:S,style:{fontSize:L}})," ",b]}):(0,c.jsxs)("span",{onClick:N,style:f()({},K),children:[b," ",(0,c.jsx)(W.B,{style:{fontSize:L},type:S})]})},k=t(67294),g=t(66309),B={1:(0,c.jsxs)("span",{children:[(0,c.jsx)(i.Z,{theme:"outline",size:"14",fill:"#7ed321"})," HTTP"]}),2:(0,c.jsx)(E,{font:14,icon:"icon-GRPC",text:"GRPC"}),3:(0,c.jsx)(E,{font:14,icon:"icon-a-dubbo1",text:"Dubbo"})},M={1:(0,c.jsx)(g.Z,{color:"success",children:"HTTP"}),2:(0,c.jsx)(g.Z,{color:"orange",children:"GRPC"}),3:(0,c.jsx)(g.Z,{color:"blue",children:"DUBBO"})},P={GET:(0,c.jsx)(g.Z,{color:"success",children:"GET"}),POST:(0,c.jsx)(g.Z,{color:"blue",children:"POST"}),PUT:(0,c.jsx)(g.Z,{color:"cyan",children:"PUT"}),DELETE:(0,c.jsx)(g.Z,{color:"error",children:"DELETE"})},F={0:(0,c.jsx)(g.Z,{children:"\u666E\u901A"}),1:(0,c.jsx)(g.Z,{color:"blue",children:"\u6D4B\u8BD5\u8BA1\u5212"}),2:(0,c.jsx)(g.Z,{color:"success",children:"CI"}),3:(0,c.jsx)(g.Z,{children:"\u5176\u4ED6"})},$={0:(0,c.jsx)(g.Z,{color:"success",style:{marginLeft:8},children:"\u666E\u901A"}),1:(0,c.jsx)(g.Z,{color:"blue",style:{marginLeft:8},children:"\u524D\u7F6E"}),2:(0,c.jsx)(g.Z,{color:"warning",style:{marginLeft:8},children:"\u6570\u636E\u5DE5\u5382"})}},91899:function(w,D,t){t.r(D);var i=t(97857),O=t.n(i),f=t(5574),W=t.n(f),c=t(30381),E=t.n(c),k=t(58841),g=t(47676),B=t(34041),M=t(8232),P=t(66309),F=t(4393),$=t(71230),h=t(15746),S=t(14726),b=t(72051),I=t(48483),L=t(30881),K=t(40110),N=t(43471),H=t(22763),Y=t(90596),q=t(67294),ee=t(75574),re=t(19478),R=t(12554),G=t(37594),te=t(99612),o=t(85893),Q=g.Z.RangePicker,X=B.Z.Option,e=function(a){var n=a.user,r=a.report,v=a.loading,u=a.dispatch,T=M.Z.useForm(),y=W()(T,1),j=y[0],_=n.userMap,A=r.reportData,C=r.pagination;(0,q.useEffect)(function(){u({type:"user/fetchUserList"}),Z()},[C.current]);var V=[{title:"\u6784\u5EFAid",dataIndex:"id",key:"id",fixed:"left",render:function(l,m){return m.failed_count===0&&m.error_count===0&&m.success_count>0?(0,o.jsxs)("span",{children:[(0,o.jsx)(I.Z,{twoToneColor:"#52c41a",style:{fontSize:13}})," #",(0,o.jsx)("a",{href:"/#/record/report/".concat(m.id),children:l})]}):(0,o.jsxs)("span",{children:[(0,o.jsx)(L.Z,{twoToneColor:"#eb2f96",style:{fontSize:13}})," #",(0,o.jsx)("a",{href:"/#/record/report/".concat(m.id),children:l})]})}},{title:"\u7C7B\u578B",dataIndex:"mode",key:"mode",fixed:"left",render:function(l){return te.mi[l]}},{title:"\u6267\u884C\u4EBA",dataIndex:"executor",key:"executor",fixed:"left",render:function(l){return l===0?(0,o.jsxs)("span",{children:[(0,o.jsx)(G.B,{style:{fontSize:20},type:"icon-a-jiqirenrengongzhineng"})," pity\u673A\u5668\u4EBA"]}):(0,o.jsx)(R.Z,{user:_[l]})}},{title:"\u603B\u6570",key:"total",render:function(l,m){return(0,o.jsxs)(P.Z,{children:[" ",m.success_count+m.failed_count+m.skipped_count+m.error_count," "]})}},{title:"\u6210\u529F \u2714",dataIndex:"success_count",key:"success_count",render:function(l){return(0,o.jsxs)(P.Z,{color:"success",children:[" ",l," "]})}},{title:"\u5931\u8D25 \u274C",dataIndex:"failed_count",key:"failed_count",render:function(l){return(0,o.jsxs)(P.Z,{color:"error",children:[" ",l," "]})}},{title:"\u51FA\u9519 \u26A0",dataIndex:"error_count",key:"error_count",render:function(l){return(0,o.jsxs)(P.Z,{color:"warning",children:[" ",l," "]})}},{title:"\u8DF3\u8FC7 \u{1F389}",dataIndex:"skipped_count",key:"skipped_count",render:function(l){return(0,o.jsxs)(P.Z,{color:"blue",children:[" ",l," "]})}},{title:"\u5F00\u59CB\u65F6\u95F4",key:"start_at",dataIndex:"start_at"},{title:"\u4EFB\u52A1\u72B6\u6001",dataIndex:"status",key:"status",fixed:"right",render:function(l){return ee.Z.STATUS[l]}},{title:"\u64CD\u4F5C",key:"operation",render:function(l,m){return(0,o.jsx)("a",{href:"/#/record/report/".concat(m.id),children:"\u67E5\u770B"})}}],Z=function(){var l=j.getFieldsValue(),m=l.date[0].format("YYYY-MM-DD HH:mm:ss"),J=l.date[1].format("YYYY-MM-DD HH:mm:ss");u({type:"report/fetchReportList",payload:O()(O()({start_time:m,end_time:J},l),{},{page:C.current,size:C.pageSize,date:null})})},x=function(){j.resetFields(),j.setFieldsValue({date:[E()().startOf("week"),E()().endOf("week")]}),Z()};return(0,o.jsx)(k._z,{title:"\u6784\u5EFA\u5386\u53F2",breadcrumb:null,children:(0,o.jsxs)(F.Z,{children:[(0,o.jsx)(M.Z,{form:j,children:(0,o.jsxs)($.Z,{gutter:[8,8],children:[(0,o.jsx)(h.Z,{span:8,children:(0,o.jsx)(M.Z.Item,{label:"\u6267\u884C\u4EBA",name:"executor",children:(0,o.jsxs)(B.Z,{placeholder:"\u9009\u62E9\u6267\u884C\u4EBA",style:{width:"90%"},allowClear:!0,children:[(0,o.jsxs)(X,{value:"pity\u673A\u5668\u4EBA",children:[(0,o.jsx)(G.B,{style:{fontSize:20},type:"icon-a-jiqirenrengongzhineng"})," pity\u673A\u5668\u4EBA"]},"CPU"),Object.keys(_).map(function(d){return(0,o.jsx)(X,{value:d,children:(0,o.jsx)(R.Z,{user:_[d]})},d)})]})})}),(0,o.jsx)(h.Z,{span:10,children:(0,o.jsx)(M.Z.Item,{label:"\u6267\u884C\u65F6\u95F4",name:"date",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5F00\u59CB/\u7ED3\u675F\u65F6\u95F4"}],initialValue:[E()().startOf("week"),E()().endOf("week")],children:(0,o.jsx)(Q,{ranges:{\u4ECA\u5929:[E()(),E()()],\u672C\u5468:[E()().startOf("week"),E()().endOf("week")],\u672C\u6708:[E()().startOf("month"),E()().endOf("month")]},showTime:!0,format:"YYYY-MM-DD HH:mm:ss"})})}),(0,o.jsx)(h.Z,{span:6,children:(0,o.jsxs)("div",{style:{float:"right"},children:[(0,o.jsxs)(S.ZP,{type:"primary",onClick:Z,children:[(0,o.jsx)(K.Z,{})," \u67E5\u8BE2"]}),(0,o.jsxs)(S.ZP,{style:{marginLeft:8},onClick:x,children:[(0,o.jsx)(N.Z,{})," \u91CD\u7F6E"]})]})})]})}),(0,o.jsx)($.Z,{gutter:[8,8],children:(0,o.jsx)(h.Z,{span:24,children:(0,o.jsx)(b.Z,{columns:V,dataSource:A,pagination:C,loading:v.effects["report/fetchReportList"],onChange:function(l){u({type:"report/save",payload:{pagination:O()(O()({},C),{},{current:l.current})}})}})})})]})})};D.default=(0,Y.connect)(function(s){var a=s.report,n=s.user,r=s.loading;return{report:a,loading:r,user:n}})(e)},66309:function(w,D,t){t.d(D,{Z:function(){return X}});var i=t(67294),O=t(93967),f=t.n(O),W=t(98423),c=t(98787),E=t(69760),k=t(96159),g=t(45353),B=t(53124),M=t(54548),P=t(10274),F=t(14747),$=t(45503),h=t(91945);const S=e=>{const{paddingXXS:s,lineWidth:a,tagPaddingHorizontal:n,componentCls:r,calc:v}=e,u=v(n).sub(a).equal(),T=v(s).sub(a).equal();return{[r]:Object.assign(Object.assign({},(0,F.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:u,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,M.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${r}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${r}-close-icon`]:{marginInlineStart:T,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${r}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${r}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:u}}),[`${r}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},b=e=>{const{lineWidth:s,fontSizeIcon:a,calc:n}=e,r=e.fontSizeSM;return(0,$.TS)(e,{tagFontSize:r,tagLineHeight:(0,M.bf)(n(e.lineHeightSM).mul(r).equal()),tagIconSize:n(a).sub(n(s).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},I=e=>({defaultBg:new P.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var L=(0,h.I$)("Tag",e=>{const s=b(e);return S(s)},I),K=function(e,s){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&s.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)s.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a},H=i.forwardRef((e,s)=>{const{prefixCls:a,style:n,className:r,checked:v,onChange:u,onClick:T}=e,y=K(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:j,tag:_}=i.useContext(B.E_),A=l=>{u==null||u(!v),T==null||T(l)},C=j("tag",a),[V,Z,x]=L(C),d=f()(C,`${C}-checkable`,{[`${C}-checkable-checked`]:v},_==null?void 0:_.className,r,Z,x);return V(i.createElement("span",Object.assign({},y,{ref:s,style:Object.assign(Object.assign({},n),_==null?void 0:_.style),className:d,onClick:A})))}),Y=t(98719);const q=e=>(0,Y.Z)(e,(s,a)=>{let{textColor:n,lightBorderColor:r,lightColor:v,darkColor:u}=a;return{[`${e.componentCls}${e.componentCls}-${s}`]:{color:n,background:v,borderColor:r,"&-inverse":{color:e.colorTextLightSolid,background:u,borderColor:u},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var ee=(0,h.bk)(["Tag","preset"],e=>{const s=b(e);return q(s)},I);function re(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const R=(e,s,a)=>{const n=re(a);return{[`${e.componentCls}${e.componentCls}-${s}`]:{color:e[`color${a}`],background:e[`color${n}Bg`],borderColor:e[`color${n}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var G=(0,h.bk)(["Tag","status"],e=>{const s=b(e);return[R(s,"success","Success"),R(s,"processing","Info"),R(s,"error","Error"),R(s,"warning","Warning")]},I),te=function(e,s){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&s.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)s.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a};const Q=i.forwardRef((e,s)=>{const{prefixCls:a,className:n,rootClassName:r,style:v,children:u,icon:T,color:y,onClose:j,bordered:_=!0,visible:A}=e,C=te(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:V,direction:Z,tag:x}=i.useContext(B.E_),[d,l]=i.useState(!0),m=(0,W.Z)(C,["closeIcon","closable"]);i.useEffect(()=>{A!==void 0&&l(A)},[A]);const J=(0,c.o2)(y),se=(0,c.yT)(y),ne=J||se,de=Object.assign(Object.assign({backgroundColor:y&&!ne?y:void 0},x==null?void 0:x.style),v),p=V("tag",a),[ue,fe,ge]=L(p),Ee=f()(p,x==null?void 0:x.className,{[`${p}-${y}`]:ne,[`${p}-has-color`]:y&&!ne,[`${p}-hidden`]:!d,[`${p}-rtl`]:Z==="rtl",[`${p}-borderless`]:!_},n,r,fe,ge),le=z=>{z.stopPropagation(),j==null||j(z),!z.defaultPrevented&&l(!1)},[,me]=(0,E.Z)((0,E.w)(e),(0,E.w)(x),{closable:!1,closeIconRender:z=>{const ve=i.createElement("span",{className:`${p}-close-icon`,onClick:le},z);return(0,k.wm)(z,ve,U=>({onClick:ie=>{var oe;(oe=U==null?void 0:U.onClick)===null||oe===void 0||oe.call(U,ie),le(ie)},className:f()(U==null?void 0:U.className,`${p}-close-icon`)}))}}),he=typeof C.onClick=="function"||u&&u.type==="a",ae=T||null,Ce=ae?i.createElement(i.Fragment,null,ae,u&&i.createElement("span",null,u)):u,ce=i.createElement("span",Object.assign({},m,{ref:s,className:Ee,style:de}),Ce,me,J&&i.createElement(ee,{key:"preset",prefixCls:p}),se&&i.createElement(G,{key:"status",prefixCls:p}));return ue(he?i.createElement(g.Z,{component:"Tag"},ce):ce)});Q.CheckableTag=H;var X=Q}}]);
